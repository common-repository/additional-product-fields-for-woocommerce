var RedNaoFormulaPerItemCalculator=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1056)}({1056:function(e,t,i){"use strict";i.r(t),i.d(t,"FormulaPerItemCalculator",(function(){return b}));var r=i(167),n=i(2),o=i(416),u=i(32),a=i(531);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){var e;return c(this,t),(e=p(this,y(t).call(this))).Field=void 0,e.OptionsCalculator=void 0,e.OptionsCalculator=new a.OptionsCalculator,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),f(t,[{key:"InitializeFieldOnly",value:function(e){return this.OptionsCalculator.Field=e,d(y(t.prototype),"InitializeFieldOnly",this).call(this,e)}},{key:"ExecuteCalculation",value:function(e,t,i){var r=this,a=this.Field.FormulaManager.GetFormula("FormulaPerItem"),l=!0,c=!1,s=void 0;try{for(var f,p=function(){var e=f.value,t=n.EventManager.Publish(new o.CalculateFormula(r.Field.FormBuilder.ContainerManager.GetFields(!1,!0,!0),a,r.Field,null,(function(t){return"option_price"==t.Id?new v(r.Field,e.Id):r.Field.GetFixedValue(t)})),0);e.RegularPrice=u.Sanitizer.SanitizeNumber(t)},d=this.Field.Options.Options[Symbol.iterator]();!(l=(f=d.next()).done);l=!0)p()}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return this.OptionsCalculator.ExecuteCalculation(null)}},{key:"BeforeExecutingFormula",value:function(e){return"FormulaPerItem"==e.Name&&this.ExecuteAndUpdate(!0,!1),d(y(t.prototype),"BeforeExecutingFormula",this).call(this,e)}},{key:"Initialize",value:function(e){return d(y(t.prototype),"Initialize",this).call(this,e)}}]),t}(r.CalculatorBase),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c(this,e),this.field=t,this.id=i}return f(e,[{key:"GetColumnValue",value:function(e){var t,i=this,r=this.field.Options.Options.find((function(e){return e.Id==i.id}));return null==r?null:null===(t=r.AdditionalOptionValue.find((function(e){return e.Id})))||void 0===t?void 0:t.Value}},{key:"GetColumnNumericalValue",value:function(e){return u.Sanitizer.SanitizeNumber(this.GetColumnValue(e))}},{key:"toString",value:function(){var e,t=this;return null!==(e=this.field.OriginalOptionPrices.find((function(e){return e.Id==t.id})).Price)&&void 0!==e?e:0}}]),e}();n.EventManager.SubscribeRaisable("GetCalculator",(function(e){if("formula_item"==e)return new b}))},116:function(e,t,i){"use strict";i.r(t),i.d(t,"FieldTypeEnum",(function(){return C})),i.d(t,"PreferredReturnType",(function(){return _})),i.d(t,"FormulaOptions",(function(){return A})),i.d(t,"FieldCustomAction",(function(){return L})),i.d(t,"FBFieldBaseOptions",(function(){return M}));var r,n,o,u,a,l,c,s,f,p,d,y,h,b,v,m,P,g,S,O,w,F,C,_,I=i(61),R=i(9),T=i(2),j=i(168);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,i){return t&&x(e.prototype,t),i&&x(e,i),e}function U(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?z(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,i,r,n){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){e.Text="text",e.Number="number",e.TextArea="textarea",e.Radio="radio",e.Checkbox="checkbox",e.DropDown="dropdown",e.Hidden="hidden",e.Paragraph="paragraph",e.FileUpload="fileupload",e.ImagePicker="imagepicker",e.Divider="divider",e.Repeater="repeater",e.SizeChart="sizechart",e.List="list",e.GroupPanel="grouppanel",e.GlobalContainer="globalcontainer",e.RepeaterItem="repeater_item",e.Datepicker="datepicker",e.DateRange="daterange",e.Collapsible="collapsible",e.Masked="masked",e.ColorPicker="colorpicker",e.Slider="slider",e.ButtonSelection="buttonselection",e.Switch="switch",e.Signature="signature",e.ColorSwatcher="colorswatcher",e.TermOfService="termofservice",e.GoogleMaps="googlemaps",e.TextualImage="textualimage",e.Total="total",e.Popup="popup",e.TextWithStyles="textwithstyles",e.SearchableDropdown="searchabledropdown",e.LikertScale="likertscale"}(C||(C={})),function(e){e.String="string",e.Price="price"}(_||(_={}));var A=(r=Object(R.StoreDataType)(Number),n=Object(R.StoreDataType)(Object),o=Object(R.StoreDataType)(Object),s=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=Q(t)).call.apply(e,[this].concat(n)))).Code=void 0,i.Name=void 0,N(i,"Fields",a,z(i)),N(i,"Fixed",l,z(i)),i.PreferredReturnType=void 0,N(i,"Compiled",c,z(i)),i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Code="",this.Name="",this.Compiled=null,this.PreferredReturnType=_.Price,this.Fields=[],this.Fixed=[]}}]),t}(R.StoreBase),a=B((u=s).prototype,"Fields",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=B(u.prototype,"Fixed",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=B(u.prototype,"Compiled",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u),L=(f=Object(R.StoreAutoIncrement)("FieldCustomAction"),y=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return N(i=U(this,(e=Q(t)).call.apply(e,[this].concat(n))),"Id",d,z(i)),i.CustomActionId=void 0,i.Code=void 0,i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Id=0,this.CustomActionId="",this.Code=""}}]),t}(R.StoreBase),d=B((p=y).prototype,"Id",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p),M=(h=Object(R.StoreDataType)(I.ConditionOptionsBase),b=Object(R.StoreDataType)(L),v=Object(R.StoreDataType)(A),m=Object(R.StoreDataType)(Object),F=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=Q(t)).call.apply(e,[this].concat(n)))).Id=void 0,i.Type=void 0,i.Label=void 0,i.Required=void 0,i.RowId=void 0,N(i,"Conditions",g,z(i)),i.IsFieldContainer=void 0,i.FieldName=void 0,i.SkipInCart=void 0,N(i,"FieldActions",S,z(i)),i.CustomCSS=void 0,N(i,"Formulas",O,z(i)),i.Description="",i.ShowDescriptionType="",i.Tooltip="",N(i,"GlobalId",w,z(i)),i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Type=C.Text,this.Label="",this.Id=0,this.Required=!1,this.RowId=0,this.Conditions=[],this.Formulas=[],this.Description="",this.Tooltip="",this.FieldName="",this.FieldActions=[],this.CustomCSS="",this.ShowDescriptionType="",this.SkipInCart=!1,this.GlobalId=null}},{key:"GetValueFromLoader",value:function(e,t){if("Conditions"==e){if(null==t)return[];var i=[],r=!0,n=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var l=u.value;switch(l.Type){case I.ConditionTypeEnum.ShowHide:i.push((new I.ShowHideConditionOptions).Merge(l));break;case I.ConditionTypeEnum.Validation:i.push((new I.ValidationConditionOptions).Merge(l));break;default:i.push(T.EventManager.Publish(new j.CreateConditionOptions(l.Type)).Merge(l))}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return i}}}]),t}(R.StoreBase),g=B((P=F).prototype,"Conditions",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B(P.prototype,"FieldActions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=B(P.prototype,"Formulas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B(P.prototype,"GlobalId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P)},167:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/Calulators/CalculatorBase")},168:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/CreateConditionOptions")},2:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/EventManager")},3:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},32:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Utilities/Sanitizer")},416:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/CalculateFormula")},417:function(e,t,i){"use strict";i.r(t),i.d(t,"FixedAmountCalculator",(function(){return s}));var r=i(90),n=i(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,l(t).call(this))).CustomSalePrice=void 0,e.CustomRegularPrice=void 0,e.Quantity=void 0,e.CustomSalePrice=null,e.CustomRegularPrice=null,e}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),i=t,(r=[{key:"SetQuantity",value:function(e){return this.Quantity=e,this}},{key:"SetRegularPrice",value:function(e){return this.CustomRegularPrice=e,this}},{key:"SetSalePrice",value:function(e){return this.CustomSalePrice=e,this}},{key:"ExecuteCalculation",value:function(e){null==e&&(e=this.Field.GetValue());var t=null!=this.CustomRegularPrice?this.CustomRegularPrice:this.Field.GetRegularPrice(),i=null!=this.CustomSalePrice?this.CustomSalePrice:this.Field.GetSalePrice();return isNaN(e)&&e.length>0||!isNaN(e)&&e>0||this.Field.Options.Type==n.FieldTypeEnum.DateRange&&null!=e||this.Field.Options.Type==n.FieldTypeEnum.GoogleMaps&&null!=e||this.Field.Options.Type==n.FieldTypeEnum.TextualImage&&null!=e?""!=i?{Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput(),RegularPrice:t,SalePrice:i}:{RegularPrice:t,SalePrice:"",Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput()}:{SalePrice:"",RegularPrice:"",Quantity:0}}},{key:"ParseNumber",value:function(e){var t=parseFloat(e);return isNaN(t)?0:t}}])&&u(i.prototype,r),o&&u(i,o),t}(r.CalculatorBase)},418:function(e,t,i){"use strict";i.r(t),i.d(t,"PercentageOriginalPriceAndOptionsCalculator",(function(){return f}));var r=i(90),n=i(51);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,c(t).call(this))).SalePercentage=void 0,e.RegularPercentage=void 0,e.Quantity=void 0,e.SalePercentage=null,e.RegularPercentage=null,e}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),i=t,(r=[{key:"SetRegularPercentage",value:function(e){return this.RegularPercentage=e,this}},{key:"SetQuantity",value:function(e){return this.Quantity=e,this}},{key:"SetSalePercentage",value:function(e){return this.SalePercentage=e,this}},{key:"IsDynamic",value:function(){return!0}},{key:"Destroy",value:function(){this.Field.FormBuilder.PriceManager.FieldPriceUpdated.Unsubscribe(this)}},{key:"Initialize",value:function(e){var i=this;return l(c(t.prototype),"Initialize",this).call(this,e),this.Field.FormBuilder.PriceManager.FieldPriceUpdated.Subscribe(this,(function(e){return i.ExecuteAndUpdate()})),e.FormBuilder.ProductPriceChanged.Subscribe(this,(function(){return i.ExecuteAndUpdate()})),this}},{key:"GetDependsOnOtherFields",value:function(){return!0}},{key:"ExecuteCalculation",value:function(e){if(null==e&&(e=this.Field.GetValue()),!(e.length>0))return{RegularPrice:"",SalePrice:"",Quantity:0};var t=this.Field.FormBuilder.GetProductPrice().toString(),i=this.Field.FormBuilder.GetSalePrice().toString();""!=i&&(t=i),t=n.NumericUtilities.ParseNumber(t),t+=this.Field.FormBuilder.PriceManager.GetPriceIgnoringFields([this.Field]);var r=null==this.SalePercentage?this.Field.GetSalePrice():this.SalePercentage,o=null==this.RegularPercentage?this.Field.GetRegularPrice():this.RegularPercentage,u="",a="";if(""!=r){var l=n.NumericUtilities.ParseNumber(r);l>0&&(l/=100),a=n.NumericUtilities.ParseNumber(t)*l}if(""!=o){var c=n.NumericUtilities.ParseNumber(o);c>0&&(c/=100),u=n.NumericUtilities.ParseNumber(t)*c}return e.length>0?""!=a?{Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput(),RegularPrice:u,SalePrice:a}:{Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput(),RegularPrice:u,SalePrice:""}:void 0}},{key:"ParseNumber",value:function(e){var t=parseFloat(e);return isNaN(t)?0:t}}])&&u(i.prototype,r),o&&u(i,o),t}(r.CalculatorBase)},419:function(e,t,i){"use strict";i.r(t),i.d(t,"PercentageOriginalPriceCalculator",(function(){return f}));var r=i(90),n=i(51);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,c(t).call(this))).SalePercentage=void 0,e.RegularPercentage=void 0,e.Quantity=void 0,e.SalePercentage=null,e.RegularPercentage=null,e}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),i=t,(r=[{key:"SetQuantity",value:function(e){return this.Quantity=e,this}},{key:"Initialize",value:function(e){var i=this;return l(c(t.prototype),"Initialize",this).call(this,e),e.RootFormBuilder.ProductPriceChanged.Subscribe(this,(function(){return i.ExecuteAndUpdate()})),this}},{key:"SetRegularPercentage",value:function(e){return this.RegularPercentage=e,this}},{key:"SetSalePercentage",value:function(e){return this.SalePercentage=e,this}},{key:"ExecuteCalculation",value:function(e){if(null==e&&(e=this.Field.GetValue()),!(e.length>0))return{RegularPrice:"",SalePrice:"",Quantity:0};var t=this.Field.FormBuilder.GetProductPrice(),i=this.Field.FormBuilder.GetSalePrice();""!=i&&(t=i),t=n.NumericUtilities.ParseNumber(t);var r=null==this.SalePercentage?this.Field.GetSalePrice():this.SalePercentage,o=null==this.RegularPercentage?this.Field.GetRegularPrice():this.RegularPercentage,u="",a="";if(""!=r){var l=n.NumericUtilities.ParseNumber(r);l>0&&(l/=100),a=n.NumericUtilities.ParseNumber(t)*l}if(""!=o){var c=n.NumericUtilities.ParseNumber(o);c>0&&(c/=100),u=n.NumericUtilities.ParseNumber(t)*c}return e.length>0?""!=a?{Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput(),RegularPrice:u,SalePrice:a}:{Quantity:null!=this.Quantity?this.Quantity:this.GetQuantityInput(),RegularPrice:u,SalePrice:""}:void 0}},{key:"ParseNumber",value:function(e){var t=parseFloat(e);return isNaN(t)?0:t}}])&&u(i.prototype,r),o&&u(i,o),t}(r.CalculatorBase)},50:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/SingleEvent")},51:function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t),i.d(t,"NumericUtilities",(function(){return n}));var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"ParseNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?t:(e=parseFloat(e.toString()),isNaN(e)?t:e)}}],(i=null)&&r(t.prototype,i),n&&r(t,n),e}()},531:function(e,t,i){"use strict";i.r(t),i.d(t,"OptionsCalculator",(function(){return h}));var r=i(90),n=i(78),o=i(417),u=i(51),a=i(418),l=i(419);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,d(t).call(this))).SubCalculator=void 0,e.OptionsTotal=void 0,e.OptionsTotal=[],e}var i,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),i=t,(r=[{key:"InitializeFieldOnly",value:function(e){var i=this;return p(d(t.prototype),"InitializeFieldOnly",this).call(this,e),this.Field.FormBuilder.PriceManager.FieldPriceUpdated.Subscribe(this,(function(e){e!=i.Field&&i.Field.GetSelectedOptions().find((function(e){return e.PriceType==n.PriceTypeEnum.percent_or_original_price_plus_options}))&&i.ExecuteAndUpdate()})),this}},{key:"GetDependsOnOtherFields",value:function(){return this.Field.GetSelectedOptions().some((function(e){return e.PriceType==n.PriceTypeEnum.percent_or_original_price_plus_options}))}},{key:"ExecuteCalculation",value:function(e){this.OptionsTotal=[];var t=this.Field.GetSelectedOptions();if(0==t.length)return{RegularPrice:"",SalePrice:"",Quantity:0};var i=!0,r=!1,c=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var p=s.value,d=null;switch(p.PriceType){case n.PriceTypeEnum.fixed_amount:d=(new o.FixedAmountCalculator).InitializeFieldOnly(this.Field).SetRegularPrice(p.RegularPrice).SetSalePrice(p.SalePrice).SetQuantity(1).ExecuteCalculation("aa");break;case n.PriceTypeEnum.percent_or_original_price_plus_options:d=(new a.PercentageOriginalPriceAndOptionsCalculator).InitializeFieldOnly(this.Field).SetRegularPercentage(p.RegularPrice).SetQuantity(1).SetSalePercentage(p.SalePrice).ExecuteCalculation(" ");break;case n.PriceTypeEnum.percent_of_original_price:d=(new l.PercentageOriginalPriceCalculator).InitializeFieldOnly(this.Field).SetRegularPercentage(p.RegularPrice).SetSalePercentage(p.SalePrice).ExecuteCalculation(" ")}if(null==d)throw Error("Invalid price type "+p.PriceType);var y={Id:p.Id,SalePrice:d.SalePrice,RegularPrice:d.RegularPrice,UnitPrice:""==d.SalePrice?d.RegularPrice:d.SalePrice,Quantity:1};""==y.UnitPrice?y.UnitPrice=0:y.UnitPrice=parseFloat(y.UnitPrice),isNaN(y.UnitPrice)&&(y.UnitPrice=0),y.Price=y.UnitPrice*y.Quantity,this.OptionsTotal.push(y)}}catch(e){r=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(r)throw c}}var h={RegularPrice:0,SalePrice:0,Quantity:0};h.Quantity=this.GetQuantityInput();var b=!0,v=!1,m=void 0;try{for(var P,g=this.OptionsTotal[Symbol.iterator]();!(b=(P=g.next()).done);b=!0){var S=P.value;this.OptionsTotal.some((function(e){return""!=e.SalePrice}))?(h.SalePrice+=u.NumericUtilities.ParseNumber(S.Price,0),h.RegularPrice+=u.NumericUtilities.ParseNumber(S.RegularPrice,0)):(h.SalePrice=0,h.RegularPrice+=u.NumericUtilities.ParseNumber(S.Price,0))}}catch(e){v=!0,m=e}finally{try{b||null==g.return||g.return()}finally{if(v)throw m}}return h}},{key:"GetForceUpdateWhenFieldChange",value:function(){return!0}},{key:"IsDynamic",value:function(){return null!=this.Field.GetSelectedOptions().find((function(e){return e.PriceType==n.PriceTypeEnum.percent_or_original_price_plus_options}))}},{key:"ParseNumber",value:function(e){var t=parseFloat(e);return isNaN(t)?0:t}},{key:"InternalInstanceUpdated",value:function(e){}},{key:"AddOption",value:function(e,t){return""!=t.RegularPrice&&(e.RegularPrice=u.NumericUtilities.ParseNumber(e.RegularPrice,0)+u.NumericUtilities.ParseNumber(t.RegularPrice,0)),""!=t.SalePrice&&(e.SalePrice=u.NumericUtilities.ParseNumber(e.SalePrice,0)+u.NumericUtilities.ParseNumber(t.SalePrice,0)),e}}])&&s(i.prototype,r),c&&s(i,c),t}(r.CalculatorBase)},61:function(e,t,i){"use strict";i.r(t),i.d(t,"ConditionTypeEnum",(function(){return w})),i.d(t,"ConditionLineTypeEnum",(function(){return F})),i.d(t,"SubTypeEnum",(function(){return C})),i.d(t,"ComparisonTypeEnum",(function(){return _})),i.d(t,"ElementUsedTypeEnum",(function(){return I})),i.d(t,"ElementUsedOptions",(function(){return B})),i.d(t,"ConditionLineOptions",(function(){return A})),i.d(t,"ConditionGroupOptions",(function(){return L})),i.d(t,"ConditionOptionsBase",(function(){return M})),i.d(t,"ShowHideConditionOptions",(function(){return q})),i.d(t,"ValidationConditionOptions",(function(){return H}));var r,n,o,u,a,l,c,s,f,p,d,y,h,b,v,m,P,g,S,O,w,F,C,_,I,R=i(9);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,i){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function N(e,t,i,r,n){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,i){return t&&x(e.prototype,t),i&&x(e,i),e}function U(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.ShowHide="ShowHide",e.Validation="Validation",e.DisabledOptions="DisabledOptions",e.ChangeOptionPrice="ChangeOptionPrice",e.MaximumNumberOfItems="MaximumNumberOfItems",e.ChangeImage="ChangeImage"}(w||(w={})),function(e){e.Standard="Standard",e.Variation="Variation",e.GlobalVariation="GlobalVariation",e.ProductInformation="ProductInformation",e.None="None"}(F||(F={})),function(e){e.Standard="Standard",e.MultipleValues="MultipleValues",e.Date="Date",e.Color="Color",e.Numeric="Numeric",e.Checkbox="Checkbox"}(C||(C={})),function(e){e.Equal="Equal",e.NotEqual="NotEqual",e.IsEmpty="IsEmpty",e.IsNotEmpty="IsNotEmpty",e.None="None",e.Contains="Contains",e.NotContains="NotContains",e.GreaterThan="GreaterThan",e.GreaterOrEqualThan="GreaterOrEqualThan",e.LessThan="LessThan",e.LessOrEqualThan="LessOrEqualThan",e.IsChecked="IsChecked",e.IsNotChecked="IsNotChecked"}(_||(_={})),function(e){e.Field="Field",e.Variation="Variation"}(I||(I={}));var B=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=z(t)).call.apply(e,[this].concat(n)))).Type=void 0,i.Id=void 0,i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Type=I.Field,this.Id=""}}]),t}(R.StoreBase),A=(r=Object(R.StoreDataType)(Object),n=Object(R.StoreAutoIncrement)("ConditionLineOptions"),l=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=z(t)).call.apply(e,[this].concat(n)))).FieldId=void 0,i.Comparison=void 0,i.Value=void 0,i.Type=void 0,i.SubType=void 0,k(i,"RightValue",u,Q(i)),k(i,"Id",a,Q(i)),i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Id=0,this.FieldId="",this.Comparison=_.None,this.Value="",this.Type=F.None,this.SubType=C.Standard,this.RightValue=null}},{key:"GetValueFromLoader",value:function(e,t){return"Value"==e&&this.SubType==C.MultipleValues?""!=t&&Array.isArray(t)?t:[]:t}}]),t}(R.StoreBase),u=N((o=l).prototype,"RightValue",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=N(o.prototype,"Id",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o),L=(c=Object(R.StoreAutoIncrement)("ConditionGroupOptions"),s=Object(R.StoreDataType)(A),y=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return k(i=U(this,(e=z(t)).call.apply(e,[this].concat(n))),"Id",p,Q(i)),k(i,"ConditionLines",d,Q(i)),i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.ConditionLines=[],this.Id=0}}]),t}(R.StoreBase),p=N((f=y).prototype,"Id",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=N(f.prototype,"ConditionLines",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f),M=(h=Object(R.StoreAutoIncrement)("ConditionOptionsBase"),b=Object(R.StoreDataType)(L),v=Object(R.StoreDataType)(B),O=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return k(i=U(this,(e=z(t)).call.apply(e,[this].concat(n))),"Id",P,Q(i)),i.Type=void 0,k(i,"ConditionGroups",g,Q(i)),k(i,"ElementsUsed",S,Q(i)),i.GlobalId=void 0,i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){this.Id=0,this.Type=w.ShowHide,this.ElementsUsed=[],this.ConditionGroups=[],this.GlobalId=0}}]),t}(R.StoreBase),P=N((m=O).prototype,"Id",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=N(m.prototype,"ConditionGroups",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=N(m.prototype,"ElementsUsed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m),q=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=z(t)).call.apply(e,[this].concat(n)))).ShowWhenTrue=void 0,i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){j(z(t.prototype),"LoadDefaultValues",this).call(this),this.ShowWhenTrue=!0}}]),t}(M),H=function(e){function t(){var e,i;E(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(i=U(this,(e=z(t)).call.apply(e,[this].concat(n)))).IsInvalidWhenTrue=void 0,i.InvalidMessage=void 0,i}return D(t,e),G(t,[{key:"LoadDefaultValues",value:function(){j(z(t.prototype),"LoadDefaultValues",this).call(this),this.IsInvalidWhenTrue=!0,this.InvalidMessage="Invalid Field",this.Type=w.Validation}}]),t}(M)},78:function(e,t,i){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.r(t),i.d(t,"FBFieldWithPriceBaseOptions",(function(){return f})),i.d(t,"PriceTypeEnum",(function(){return s}));var s,f=function(e){function t(){var e,i;n(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=u(this,(e=l(t)).call.apply(e,[this].concat(o)))).PriceType=void 0,i.Price=void 0,i.SalePrice=void 0,i.HidePrice=void 0,i.ShowQuantitySelector=void 0,i.QuantityPosition=void 0,i.QuantityMinimumValue=0,i.QuantityMaximumValue=0,i.QuantityDefaultValue="",i.QuantityPlaceholder="",i.QuantityLabel="",i}var i,r,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),i=t,(r=[{key:"LoadDefaultValues",value:function(){a(l(t.prototype),"LoadDefaultValues",this).call(this),this.PriceType=s.none,this.Price="",this.SalePrice="",this.HidePrice=!0,this.ShowQuantitySelector=!1,this.QuantityPosition="bottom",this.QuantityMaximumValue=0,this.QuantityMinimumValue=0,this.QuantityDefaultValue="",this.QuantityPlaceholder="",this.QuantityLabel="Quantity"}}])&&o(i.prototype,r),f&&o(i,f),t}(i(116).FBFieldBaseOptions);!function(e){e.fixed_amount="fixed_amount",e.quantity="quantity",e.current_value="current_value",e.percent_of_original_price="percent_of_original_price",e.percent_or_original_price_plus_options="percent_or_original_price_plus_options",e.price_per_word="price_per_word",e.price_per_char="price_per_char",e.none="none",e.options="options",e.price_per_item="price_per_item",e.sum_of_fields_in_group="sum_of_fields_in_group",e.formula_per_item="formula_per_item",e.price_per_day="price_per_day",e.formula="formula",e.global_quantity="global_quantity"}(s||(s={}))},9:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Store/StoreBase")},90:function(e,t,i){"use strict";i.r(t),i.d(t,"CalculatorBase",(function(){return l}));var r=i(51),n=i(78),o=i(50),u=i(32);function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PriceUpdated=void 0,this.RequireInstanceToCalculate=void 0,this.Price=void 0,this.UnitPrice=void 0,this.RegularPrice=void 0,this.SalePrice=void 0,this.LastInstance=void 0,this.IsSale=void 0,this.Field=void 0,this.PriceUpdated=new o.SingleEvent,this.Price=null,this.UnitPrice=null,this.SalePrice=null,this.RegularPrice=null,this.RequireInstanceToCalculate=!1,this.ExecuteCalculation=this.ExecuteCalculation.bind(this)}var t,i,l;return t=e,(i=[{key:"GetDependsOnOtherFields",value:function(){return!1}},{key:"GetUnitPrice",value:function(){return this.UnitPrice}},{key:"Destroy",value:function(){this.PriceUpdated.Unsubscribe(this),this.Field.ValueChanged.Unsubscribe(this)}},{key:"Initialize",value:function(e){return this.InitializeFieldOnly(e),this}},{key:"GetForceUpdateWhenFieldChange",value:function(){return!1}},{key:"InitializeFieldOnly",value:function(e){return this.Field=e,this}},{key:"ExecuteAndUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.Field||!this.Field.Parent.IsDesign){var i=this.ExecuteCalculation(null,null,null);return this.UpdatePrice(i.RegularPrice,i.SalePrice,i.Quantity,e,t)}}},{key:"GetQuantityInput",value:function(){if(0==this.Field.Options.ShowQuantitySelector||this.Field.Options.PriceType==n.PriceTypeEnum.quantity)return 1;var e=this.Field.Quantity;return r.NumericUtilities.ParseNumber(e,0)}},{key:"GetIsUsed",value:function(){return this.Field.GetIsUsed()}},{key:"GetIsSale",value:function(){return this.IsSale}},{key:"GetPrice",value:function(){return this.GetIsUsed()?this.Price:0}},{key:"GetSalePrice",value:function(){return this.GetIsUsed()?this.SalePrice:0}},{key:"GetQuantity",value:function(){return this.GetIsUsed()?this.Field.Quantity:0}},{key:"IsDynamic",value:function(){return!1}},{key:"GetRegularPrice",value:function(){return this.RegularPrice}},{key:"UpdatePrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.GetIsUsed(),l=this.Price,c=this.SalePrice,s=this.Field.Quantity,f=""==e?0:e,p=""==t?0:t;if(this.Field.Quantity=i,""===e&&""===t)this.Price=0,this.SalePrice=0,this.Field.Quantity=i,this.UnitPrice=0;else{var d=r.NumericUtilities.ParseNumber(e,0);if(""!=t){this.IsSale=!0;var y=r.NumericUtilities.ParseNumber(t,0);this.Price=y*i,this.SalePrice=y*i,this.RegularPrice=d*i,this.UnitPrice=y}else this.IsSale=!1,this.Price=d*i,this.UnitPrice=this.Price,this.SalePrice=0,this.RegularPrice=d*i}if(n||this.Field.Quantity!=s||f*u.Sanitizer.SanitizeNumber(i,0)!==l||p!==c||a!=this.GetIsUsed())return this.PriceUpdated.Publish(this.Field),o||this.Field.FireValueChanged(),!0}},{key:"BeforeExecutingFormula",value:function(e){return!0}}])&&a(t.prototype,i),l&&a(t,l),e}()}});