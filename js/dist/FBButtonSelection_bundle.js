var RedNaoFBButtonSelection=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=870)}({0:function(e,t){e.exports=React},100:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase.Model")},117:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase.Options")},1469:function(e,t,n){var o={"./FBButtonSelection.Model.tsx":757,"./FBButtonSelection.options.ts":758,"./FBButtonSelection.tsx":870};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=1469},188:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase")},2:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/EventManager")},21:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Controls/FontAwesome/FontAwesomeIcon")},250:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Utilities/Components/Price")},27:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetFieldOptions")},28:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetField")},29:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetModel")},3:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},32:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Utilities/Sanitizer")},6:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Options")},66:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Options/OptionItem")},757:function(e,t,n){"use strict";n.r(t),n.d(t,"FBButtonSelectionModel",(function(){return f}));var o=n(100),i=n(32);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=u(this,c(t).call(this,e,n))).SelectedValues=void 0,o.MaximumNumberOfItems=void 0,o}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(o=[{key:"InitializeStartingValues",value:function(){a(c(t.prototype),"InitializeStartingValues",this).call(this),this.MaximumNumberOfItems=this.Options.MaximumNumberOfItems}},{key:"GetDynamicFieldNames",value:function(){return["FBButtonSelection"]}},{key:"SetMaximumNumberOfItems",value:function(e){for(e=i.Sanitizer.SanitizeNumber(e);e>0&&e<this.SelectedValues.length&&this.SelectedValues.length>0;)this.SelectedValues.pop();this.MaximumNumberOfItems=e,this.Refresh()}},{key:"IsOptionDisabled",value:function(e){var n=a(c(t.prototype),"IsOptionDisabled",this).call(this,e);return n||!!(this.Options.AllowMultipleSelection&&this.MaximumNumberOfItems>0&&this.SelectedValues.length>=this.MaximumNumberOfItems&&this.SelectedValues.indexOf(e)<0)}},{key:"AllowMultiple",get:function(){var e;return null===(e=this.Options)||void 0===e?void 0:e.AllowMultipleSelection}}])&&l(n.prototype,o),r&&l(n,r),t}(o.FBMultipleOptionsBaseModel)},758:function(e,t,n){"use strict";n.r(t),n.d(t,"ButtonOptionItem",(function(){return E})),n.d(t,"FBButtonSelectionOptions",(function(){return R}));var o,i,r,l,u=n(6),a=n(3),c=n(66),s=n(9),f=n(117);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B,M,F,w,P,x,E=function(e){function t(){var e,n;m(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=b(this,(e=g(t)).call.apply(e,[this].concat(i)))).ImageType=void 0,n.Ref=void 0,n}return S(t,e),h(t,[{key:"LoadDefaultValues",value:function(){v(g(t.prototype),"LoadDefaultValues",this).call(this),this.ImageType="none",this.Ref=""}}]),t}(c.OptionItem),R=(o=Object(s.StoreDataType)(E),l=function(e){function t(){var e,n;m(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(n=b(this,(e=g(t)).call.apply(e,[this].concat(i)))).ShowQuantitySelector=void 0,d(n,"Options",r,O(n)),n.ImagePosition=void 0,n.AllowMultipleSelection=void 0,n.NumberOfColumns=void 0,n.ShowPriceInEachButton=void 0,n.MaximumNumberOfItems=void 0,n.ButtonWidth=void 0,n.IconSize=void 0,n}return S(t,e),h(t,[{key:"LoadDefaultValues",value:function(){v(g(t.prototype),"LoadDefaultValues",this).call(this),this.Type=a.FieldTypeEnum.ButtonSelection,this.Label="Button Selection",this.Options=[],this.NumberOfColumns=3,this.ImagePosition="left",this.AllowMultipleSelection=!1,this.ButtonWidth=110,this.IconSize=90,this.ShowQuantitySelector=!1,this.QuantityPosition="bottom",this.QuantityMaximumValue=0,this.QuantityMinimumValue=0,this.QuantityDefaultValue="",this.QuantityPlaceholder="",this.QuantityLabel="Quantity",this.ShowPriceInEachButton=!0,this.MaximumNumberOfItems=0,this.PriceType=u.PriceTypeEnum.options,this.Options=[(new E).Merge({Id:1,PriceType:u.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 1",ImageType:"none",Ref:""}),(new E).Merge({Id:2,PriceType:u.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 2",ImageType:"none",Ref:""}),(new E).Merge({Id:3,PriceType:u.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 3",ImageType:"none",Ref:""})]}}]),t}(f.FBMultipleOptionsBaseOptions),B=(i=l).prototype,M="Options",F=[o],w={configurable:!0,enumerable:!0,writable:!0,initializer:null},x={},Object.keys(w).forEach((function(e){x[e]=w[e]})),x.enumerable=!!x.enumerable,x.configurable=!!x.configurable,("value"in x||x.initializer)&&(x.writable=!0),x=F.slice().reverse().reduce((function(e,t){return t(B,M,e)||e}),x),P&&void 0!==x.initializer&&(x.value=x.initializer?x.initializer.call(P):void 0,x.initializer=void 0),void 0===x.initializer&&(Object.defineProperty(B,M,x),x=null),r=x,i)},870:function(e,t,n){"use strict";n.r(t),n.d(t,"FBButtonSelection",(function(){return x}));var o=n(0),i=n(6),r=n(29),l=n(3),u=n(27),a=n(28),c=n(2),s=n(757),f=n(758),p=n(250),d=n(21),m=n(188);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={},S=null;try{S=n(1469);var I=!0,B=!1,M=void 0;try{for(var F,w=S.keys()[Symbol.iterator]();!(I=(F=w.next()).done);I=!0){var P=F.value;g[P.substring(0,P.lastIndexOf("."))]=P}}catch(e){B=!0,M=e}finally{try{I||null==w.return||w.return()}finally{if(B)throw M}}}catch(e){}t.default=function(e){if(e="./"+e.substring(18),null==g[e])throw"Library not found "+e;return S(g[e])};var x=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,O(t).call(this,e))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"componentWillReceiveProps",value:function(e,t){if(this.Model.Parent.IsDesign){var n=this.props.Model.Options.Options.filter((function(e){return e.Selected}));this.Model.SelectedValues=n.length>0?n.map((function(e){return e.Id})):[],this.Model.SetQuantity(this.Model.Options.QuantityDefaultValue),this.Model.Refresh()}}},{key:"SubRender",value:function(){return this.Model.Options.ShowQuantitySelector&&this.Model.Options.PriceType!=i.PriceTypeEnum.quantity?"bottom"==this.Model.Options.QuantityPosition||"right"==this.Model.Options.QuantityPosition?o.createElement(o.Fragment,null,this.GetInput(this.Model.Options.QuantityPosition),this.GetQuantityInput(),this.GetPriceOrRequiredBox()):o.createElement(o.Fragment,null,this.GetQuantityInput(),this.GetInput(this.Model.Options.QuantityPosition),this.GetPriceOrRequiredBox()):o.createElement(o.Fragment,null,this.GetInput(""),this.GetPriceOrRequiredBox())}},{key:"GetDynamicFieldNames",value:function(){return["FBCheckBox"]}},{key:"GetInput",value:function(e){var t=this,n=parseInt(this.props.Model.Options.NumberOfColumns.toString()),i=[],r="";if(0!=n){isNaN(n)&&(n=3),r=n>1?"calc(".concat(100/n,"% - 10px)"):"100%";var l=this.Model.Options.Options.length%n;0!=l&&(l=n-l);for(var u=0;u<l;u++)i.push(o.createElement("div",{key:u,style:{width:"calc(".concat(r,"% - 10px)")}}))}else r=this.props.Model.Options.ButtonWidth+"px";return o.createElement("div",{className:"rnTextFieldInput "+e},this.GetLabel(),o.createElement("div",{className:"buttonSelectionItemContainer "+(0==this.props.Model.Options.NumberOfColumns?"auto":"")},this.Model.Options.Options.map((function(e){return o.createElement("div",{className:(t.Model.IsOptionDisabled(e.Id)?"rnDisabled":"")+" ButtonSelectorItem "+(t.Model.SelectedValues.some((function(t){return t==e.Id}))?"rnSelected":""),key:e.Id,style:{display:"flex",alignItems:"center",width:r,flexDirection:t.GetItemDirection(e)},onClick:function(n){return t.ToggleSelected(e)}},t.GetImageControl(e),t.GetLabelControl(e))})),i))}},{key:"GetOptionId",value:function(e){var t=e.toString();t=this.props.Model.Options.Id+"_"+t;for(var n=this.props.Model.FormBuilder;null!=n.GetId();)t=n.GetId()+"_"+t,n=n.FormBuilder;return"field_"+t}},{key:"ToggleSelected",value:function(e){if(!this.Model.IsOptionDisabled(e.Id)){var t=this.Model.SelectedValues.find((function(t){return t==e.Id}));this.Model.ToggleSelection(e.Id,null==t)}}},{key:"GetImageContainer",value:function(e){return o.createElement("div",{style:{width:this.Model.Options.IconSize,height:this.Model.Options.IconSize,display:"flex",alignItems:"center",justifyContent:"center"},className:"RNButtonSelectorImageContainer"},e)}},{key:"GetImageControl",value:function(e){return"icon"==e.ImageType?this.GetImageContainer(o.createElement("div",{style:{fontSize:this.Model.Options.IconSize,maxWidth:this.Model.Options.IconSize,maxHeight:this.Model.Options.IconSize,textAlign:"center"}},o.createElement(d.FontAwesomeIcon,{icon:e.Ref,style:{display:"block"}}))):"image"==e.ImageType?this.GetImageContainer(o.createElement("img",{style:{width:"100%",maxHeight:"100%",height:"auto"},src:e.Ref.URL,alt:"Image not available"})):null}},{key:"GetLabelControl",value:function(e){var t={flexGrow:1,textAlign:"center"};return"none"==e.ImageType&&(t.display="flex",t.flexWrap="wrap",t.alignItems="center",t.justifyContent="center"),o.createElement("div",{className:"rnButtonSelectorLabelContainer",style:t},o.createElement("label",{className:"rnOptionItem",htmlFor:this.GetOptionId(e.Id),style:{cursor:"pointer"}},this.GetText(e,"Label")),this.Model.Options.ShowPriceInEachButton&&o.createElement(p.Price,{Amount:parseFloat(e.RegularPrice),SaleAmount:parseFloat(e.SalePrice),style:{display:"block",marginTop:1}}))}},{key:"GetItemDirection",value:function(e){switch(this.Model.Options.ImagePosition){case"left":return"row";case"right":return"row-reverse";case"top":return"column";case"bottom":return"column-reverse"}}}])&&h(n.prototype,r),l&&h(n,l),t}(m.FBMultipleOptionsBase);x.defaultProps={},c.EventManager.Subscribe(r.GetModel,(function(e){if(e.Options.Type==l.FieldTypeEnum.ButtonSelection)return new s.FBButtonSelectionModel(e.Options,e.parent).Initialize(e.PreviousData)})),c.EventManager.Subscribe(u.GetFieldOptions,(function(e){if(e.Type==l.FieldTypeEnum.ButtonSelection)return new f.FBButtonSelectionOptions})),c.EventManager.Subscribe(a.GetField,(function(e){if(e.Model.Options.Type==l.FieldTypeEnum.ButtonSelection)return o.createElement(x,{Model:e.Model})}))},9:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Store/StoreBase")}});