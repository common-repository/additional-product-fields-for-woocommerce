var RedNaoTest=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=865)}({0:function(e,t){e.exports=React},1046:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/ValueRetriever/MultipleValueRetriever")},1047:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/ValueRetriever/Core/ValueRetrieverBase")},128:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/FormBuilder")},1484:function(e,t,n){var r={"./Designer/DesignerStandardFieldTestSet.tsx":1485,"./Designer/RunnableLikeGroupPanelTestSet.tsx":1486,"./Designer/RunnableMultipleOptionsFieldTestSet.tsx":1487,"./Designer/RunnableStandardFieldTestSet.tsx":1488,"./Dummies/Old/DummyFieldModel.tsx":1489,"./Dummies/Old/DummyValueRetriever.tsx":775,"./FieldTest/MultipleValueTest.tsx":1490,"./Generators/DesignerTestGenerator.tsx":773,"./Generators/Runnable/RunnableTestGenerator.tsx":427,"./Generators/Runnable/Wrappers/RunnableFieldContainerWrapper.tsx":774,"./Generators/Runnable/Wrappers/RunnableFieldWrapper.tsx":574,"./Index.tsx":865};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=1484},1485:function(e,t,n){"use strict";n.r(t),n.d(t,"DesignerStandardFieldTestSet",(function(){return o}));var r=n(773);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.FieldType=t,this.Generator=void 0,this.Generator=new r.DesignerTestGenerator}var t,n,o;return t=e,(n=[{key:"Execute",value:function(){this.CanAddField()}},{key:"CanAddField",value:function(){this.Generator.AddField(this.FieldType),expect(document.body.querySelector(".rngroupbutton")).not.toBeNull()}}])&&s(t.prototype,n),o&&s(t,o),e}()},1486:function(e,t,n){"use strict";n.r(t),n.d(t,"RunnableLikeGroupPanelTestSet",(function(){return l}));var r=n(427),s=n(3),o=n(6);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.FieldType=t}var t,n,l;return t=e,(n=[{key:"Execute",value:function(){this.CanCalculatePrice(),this.PriceCanBeUsedInFormulas()}},{key:"CanCalculatePrice",value:function(){var e=new r.RunnableTestGenerator,t=e.AddField(this.FieldType),n=t.AddField(s.FieldTypeEnum.Text);n.Options.DefaultText="1",n.SetFixedAmountCalculator(o.PriceTypeEnum.fixed_amount,10),(n=t.AddField(s.FieldTypeEnum.Text)).Options.DefaultText="1",n.SetFixedAmountCalculator(o.PriceTypeEnum.fixed_amount,10),e.Execute(),expect(e.Model.PriceManager.GetGrandTotal()).toBe(20)}},{key:"PriceCanBeUsedInFormulas",value:function(){var e=new r.RunnableTestGenerator,t=e.AddField(this.FieldType),n=t.AddField(s.FieldTypeEnum.Text);n.Options.DefaultText="1",n.SetFixedAmountCalculator(o.PriceTypeEnum.fixed_amount,10),(n=t.AddField(s.FieldTypeEnum.Text)).Options.DefaultText="1",n.SetFixedAmountCalculator(o.PriceTypeEnum.fixed_amount,10);var i=e.AddField(s.FieldTypeEnum.Text);i.Options.DefaultText="1",i.AddPriceFormula("$Field "+t.Options.Id+"$*0.2"),e.Execute(),expect(e.Model.PriceManager.GetGrandTotal()).toBe(24),expect(i.Model.GetPrice()).toBe(4)}}])&&i(t.prototype,n),l&&i(t,l),e}()},1487:function(e,t,n){"use strict";n.r(t),n.d(t,"RunnableMultipleOptionsFieldTestSet",(function(){return p}));var r=n(3),s=n(427),o=n(5),i=n(519),l=n(94),a=n(1046);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.FieldType=t,this.Generator=void 0,this.Generator=new s.RunnableTestGenerator}var t,n,p;return t=e,(n=[{key:"Execute",value:function(){this.ValueRetrieverReturnsMultipleValueRetriever(),this.CanShowHideFieldsUsingThisField(),this.PriceTypeFormulaWorks(),this.FieldCanBeUsedInFormulaOfAnotherField(),this.PriceTypeFormulaPerItemWorks()}},{key:"CanShowHideFieldsUsingThisField",value:function(){var e=this.Generator.AddField(this.FieldType),t=this.Generator.AddField(r.FieldTypeEnum.Text);t.AddCondition(o.ConditionTypeEnum.ShowHide,e.Id.toString(),o.ComparisonTypeEnum.Contains,o.SubTypeEnum.MultipleValues,[e.Options.Options[0].Id]),this.Generator.Execute(),expect(t.IsVisible).toBeFalsy(),e.Model.SetSelection([e.Options.Options[0].Id]),expect(t.IsVisible).toBeTruthy()}},{key:"ValueRetrieverReturnsMultipleValueRetriever",value:function(){var e=l.FieldFactory.GetFieldOptions(this.FieldType),t=l.FieldFactory.GetFieldModel(null,e),n=i.ValueRetrieverFactory.GetValueRetriever(t);expect(n).toBeInstanceOf(a.MultipleValueRetriever)}},{key:"PriceTypeFormulaWorks",value:function(){var e=this.Generator.AddField(this.FieldType);e.Options.Options[0].RegularPrice="10",e.Options.Options[1].RegularPrice="20",e.Options.Options[2].RegularPrice="30",this.Generator.AddField(r.FieldTypeEnum.Text),e.AddPriceFormula("$Field "+e.Options.Id+"$*0.1"),this.Generator.Execute(),e.Model.SetSelection([e.Options.Options[0].Id,e.Options.Options[1].Id]),expect(e.Model.GetPrice()).toBe(3)}},{key:"FieldCanBeUsedInFormulaOfAnotherField",value:function(){var e=this.Generator.AddField(this.FieldType);e.Options.Options[0].RegularPrice="10",e.Options.Options[1].RegularPrice="20",e.Options.Options[2].RegularPrice="30",this.Generator.AddField(r.FieldTypeEnum.Text).AddPriceFormula("$Field "+e.Options.Id+"$"),this.Generator.Execute(),e.Model.SetSelection([e.Options.Options[0].Id,e.Options.Options[1].Id]),expect(e.Model.GetPrice()).toBe(30)}},{key:"PriceTypeFormulaPerItemWorks",value:function(){var e=this.Generator.AddField(this.FieldType);e.Options.Options[0].RegularPrice="10",e.Options.Options[1].RegularPrice="20",e.Options.Options[2].RegularPrice="30",this.Generator.AddField(r.FieldTypeEnum.Text),e.AddFormula("FormulaPerItem",'$Fixed "{\\"Type\\":\\"Fixed\\",\\"Label\\":\\"Option Price\\",\\"Id\\":\\"option_price\\"}"$+$Field 4$+1'),this.Generator.Execute(),e.Model.SetSelection([e.Options.Options[0].Id,e.Options.Options[1].Id]),expect(e.Model.GetPrice()).toBe(32)}}])&&u(t.prototype,n),p&&u(t,p),e}()},1488:function(e,t,n){"use strict";n.r(t),n.d(t,"RunnableStandardFieldTestSet",(function(){return o}));var r=n(427);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.FieldType=t,this.Generator=void 0,this.Generator=new r.RunnableTestGenerator}var t,n,o;return t=e,(n=[{key:"Execute",value:function(){this.CanAddField()}},{key:"CanAddField",value:function(){this.Generator.AddField(this.FieldType),this.Generator.Execute(),expect(document.body.querySelector(".rngroupbutton")).not.toBeNull()}}])&&s(t.prototype,n),o&&s(t,o),e}()},1489:function(e,t,n){"use strict";n.r(t),n.d(t,"DummyFieldModel",(function(){return f}));var r=n(88),s=n(3),o=n(775);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return l(this,t),(e=u(this,p(t).call(this,(new s.FBFieldBaseOptions).Merge({Id:i}),null))).price=n,e.text=r,e.Id=i,e.ValueRetriever=void 0,e.ValueRetriever=(new o.DummyValueRetriever).SetPrice(n).SetText(r),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"SetPrice",value:function(e){return this.ValueRetriever.Price=e,this}},{key:"SetText",value:function(e){return this.ValueRetriever.SetText(e),this}},{key:"GetText",value:function(){return this.ValueRetriever.GetText()}},{key:"GetValue",value:function(){return this.ValueRetriever.GetText()}},{key:"GetStoresInformation",value:function(){return!0}},{key:"InitializeStartingValues",value:function(e){}},{key:"InternalSerialize",value:function(e){}},{key:"GetPrice",value:function(){return this.ValueRetriever.GetPrice()}}])&&a(n.prototype,r),i&&a(n,i),t}(r.FBFieldBaseModel)},1490:function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"MultipleValueTest",(function(){return r}))},15:function(e,t){e.exports=ReactDOM},157:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/FBColumn.Options")},180:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/FormBuilder.Model")},272:function(e,t){e.exports=RedNaoProductFieldBuilder.default("ProductFieldBuilder/Designer/FormBuilderDesigner/Core/FormBuilderDesigner.Model")},273:function(e,t){e.exports=RedNaoProductFieldBuilder.default("ProductFieldBuilder/Designer/ProductFieldsDesigner")},3:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},427:function(e,t,n){"use strict";n.r(t),n.d(t,"RunnableTestGenerator",(function(){return d}));var r=n(95),s=n(98),o=n(128),i=n(0),l=n(94),a=n(180),u=n(74),p=n(157),c=n(3),f=n(574),b=n(774);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=n(15),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.FieldId=0,this.Model=void 0,this.Options=void 0,this.HTMLForm=void 0,this.HTMLContainer=void 0,this.ProductOptions={},this.Wrappers=[],r.CurrencyManager.Initialize({Format:"%1$s%2$s",Decimals:2,ThousandSeparator:",",DecimalSeparator:".",Symbol:"&#36;"}),this.Options=(new s.FormBuilderOptions).Merge()}var t,n,d;return t=e,(n=[{key:"CreateForm",value:function(){this.HTMLForm=document.createElement("form"),document.body.appendChild(this.HTMLForm),this.HTMLContainer=document.createElement("div"),this.HTMLForm.appendChild(this.HTMLContainer)}},{key:"AddProductOptions",value:function(e,t){this.ProductOptions[e]=t}},{key:"AddField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;n=null==t?this.Options.Rows:t.Options.Rows;var r=(new u.FBRowOptions).Merge();n.push(r),r.Columns.push((new p.FBColumnOptions).Merge());var s=l.FieldFactory.GetFieldOptions(e);s.Id=++this.FieldId;var o=null;return o=e==c.FieldTypeEnum.GroupPanel?new b.RunnableFieldContainerWrapper(this,s):new f.RunnableFieldWrapper(this,s),null==t?this.Wrappers.push(o):t.Wrappers.push(o),r.Columns[0].Field=s,o}},{key:"Execute",value:function(){this.CreateForm(),this.Model=new a.FormBuilderModel(this.Options,null,new o.ProductData,{},this.ProductOptions).SetFormContainer(this.HTMLForm).Initialize(),this.Model.ExecuteFirstCalculation(),m.render(i.createElement(o.FormBuilder,{Model:this.Model,PreviousData:{}}),this.HTMLContainer);var e=!0,t=!1,n=void 0;try{for(var r,s=this.Wrappers[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var l=r.value;l.Model=this.Model.GetFieldById(l.Id)}}catch(e){t=!0,n=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}}}])&&$(t.prototype,n),d&&$(t,d),e}()},5:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/ConditionOptions")},519:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/ValueRetriever/Core/ValueRetrieverFactory")},574:function(e,t,n){"use strict";n.r(t),n.d(t,"RunnableFieldWrapper",(function(){return u}));var r=n(3),s=n(5),o=n(6);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(634),a=n(635),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generator=t,this.Options=n,this.Model=void 0}var t,n,u;return t=e,(n=[{key:"AddCondition",value:function(e,t,n,r,o){var i;switch(e){case s.ConditionTypeEnum.ShowHide:i=(new s.ShowHideConditionOptions).Merge()}var l=(new s.ConditionGroupOptions).Merge();i.ConditionGroups.push(l);var a=(new s.ConditionLineOptions).Merge();l.ConditionLines.push(a),a.FieldId=t,a.Comparison=n,a.SubType=r,a.Value=o,a.Type=s.ConditionLineTypeEnum.Standard,i.ElementsUsed.push((new s.ElementUsedOptions).Merge({})),i.ElementsUsed[0].Type=s.ElementUsedTypeEnum.Field,i.ElementsUsed[0].Id=t,this.Options.Conditions.push(i)}},{key:"SetFixedAmountCalculator",value:function(e,t){var n=this.Options;n.PriceType=e,n.Price=t.toString()}},{key:"AddFormula",value:function(e,t){var n=new l.Parser(l.Grammar.fromCompiled(a));n.feed(t);for(var s=/\$Field (\d*)\$/g,i=[],u=null;u=s.exec(t);)i.push(u[1]);this.Options.PriceType="FormulaPerItem"==e?"formula_item":o.PriceTypeEnum.formula,this.Options.Formulas.push((new r.FormulaOptions).Merge({Compiled:n.results,Fields:i,Name:e}))}},{key:"AddPriceFormula",value:function(e){this.AddFormula("Price",e)}},{key:"Id",get:function(){return this.Options.Id}},{key:"IsVisible",get:function(){return this.Model.IsVisible}}])&&i(t.prototype,n),u&&i(t,u),e}()},6:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Options")},634:function(e,t,n){var r,s;r=this,s=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function s(){this.reset("")}function o(e,t,o){if(e instanceof r){var i=e;o=t}else i=r.fromCompiled(e,t);for(var l in this.grammar=i,this.options={keepHistory:!1,lexer:i.lexer||new s},o||{})this.options[l]=o[l];this.lexer=this.options.lexer,this.lexerState=void 0;var a=new n(i,0);this.table=[a],a.wants[i.start]=[],a.predict(i.start),a.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function t(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var n=void 0===e?this.symbols.map(t).join(" "):this.symbols.slice(0,e).map(t).join(" ")+" ● "+this.symbols.slice(e).map(t).join(" ");return this.name+" → "+n},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build()),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,s=0;s<t.length;s++){var i=t[s];if(i.isComplete){if(i.finish(),i.data!==o.fail){for(var l=i.wantedBy,a=l.length;a--;){var u=l[a];this.complete(u,i)}if(i.reference===this.index){var p=i.rule.name;(this.completed[p]=this.completed[p]||[]).push(i)}}}else{if("string"!=typeof(p=i.rule.symbols[i.dot])){this.scannable.push(i);continue}if(n[p]){if(n[p].push(i),r.hasOwnProperty(p)){var c=r[p];for(a=0;a<c.length;a++){var f=c[a];this.complete(i,f)}}}else n[p]=[i],this.predict(p)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var s=n[r],o=this.wants[e],i=new t(s,0,this.index,o);this.states.push(i)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var s=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=s,o},s.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(e,t){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var s=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return t+=" at line "+this.line+" col "+o+":\n\n",t+="  "+s+"\n",t+="  "+Array(o).join(" ")+"^"}return t+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);t=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var i=this.current+1,l=new n(this.grammar,i);this.table.push(l);for(var a=void 0!==t.text?t.text:t.value,u=r.constructor===s?t.value:t,p=o.scannable,c=p.length;c--;){var f=p[c],b=f.rule.symbols[f.dot];if(b.test?b.test(u):b.type?b.type===t.type:b.literal===a){var $=f.nextState({data:u,token:t,isToken:!0,reference:i-1});l.states.push($)}}if(l.process(),0===l.states.length){var m=new Error(this.reportError(t));throw m.offset=this.current,m.token=t,m}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.reportError=function(e){var t=[],n=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e);t.push(this.lexer.formatError(e,"Syntax error")),t.push("Unexpected "+n+". Instead, I was expecting to see one of the following:\n");var r=this.table.length-2;return this.table[r].states.filter((function(e){var t=e.rule.symbols[e.dot];return t&&"string"!=typeof t})).map((function(e){return this.buildStateStacks(e,[])[0]}),this).forEach((function(e){var n=e[0],r=n.rule.symbols[n.dot],s=this.getSymbolDisplay(r);t.push("A "+s+" based on:"),this.displayStateStack(e,t)}),this),t.push(""),t.join("\n")},o.prototype.displayStateStack=function(e,t){for(var n,r=0,s=0;s<e.length;s++){var o=e[s],i=o.rule.toString(o.dot);i===n?r++:(r>0&&t.push("    ⬆ ︎"+r+" more lines identical to this"),r=0,t.push("    "+i)),n=i}},o.prototype.getSymbolDisplay=function(e){var t=typeof e;if("string"===t)return e;if("object"===t&&e.literal)return JSON.stringify(e.literal);if("object"===t&&e instanceof RegExp)return"character matching "+e;if("object"===t&&e.type)return e.type+" token";throw new Error("Unknown symbol type: "+e)},o.prototype.buildStateStacks=function(e,t){if(-1!==t.indexOf(e))return[];if(0===e.wantedBy.length)return[[e]];var n=this;return e.wantedBy.reduce((function(r,s){return r.concat(n.buildStateStacks(s,[e].concat(t)).map((function(t){return[e].concat(t)})))}),[])},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=s():r.nearley=s()},635:function(e,t,n){!function(){function t(e){return e[0]}var n={Lexer:void 0,ParserRules:[{name:"main",symbols:["SENTENCES"],postprocess:function(e){return{type:"MAIN",Sentences:e[0].Sentences}}},{name:"main",symbols:["BLOCK"],postprocess:function(e){return{type:"MAIN",Sentences:[e[0]]}}},{name:"SENTENCES$ebnf$1",symbols:[]},{name:"SENTENCES$ebnf$1$subexpression$1$ebnf$1",symbols:[/[\s]/]},{name:"SENTENCES$ebnf$1$subexpression$1$ebnf$1",symbols:["SENTENCES$ebnf$1$subexpression$1$ebnf$1",/[\s]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"SENTENCES$ebnf$1$subexpression$1",symbols:["SENTENCES$ebnf$1$subexpression$1$ebnf$1","SENTENCE"]},{name:"SENTENCES$ebnf$1",symbols:["SENTENCES$ebnf$1","SENTENCES$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"SENTENCES",symbols:["SENTENCE","SENTENCES$ebnf$1","_"],postprocess:function(e){var t=[];return t.push(e[0].Sentence),e[1].forEach((function(e){t.push(e[1].Sentence)})),{type:"SENTENCES",Sentences:t,d:e}}},{name:"BLOCK",symbols:[{literal:"{"},"_","SENTENCES",{literal:"}"}],postprocess:function(e){return{type:"BLOCK",Sentences:e[2].Sentences}}},{name:"ARR$ebnf$1",symbols:["NFS"],postprocess:t},{name:"ARR$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ARR$ebnf$2",symbols:[]},{name:"ARR$ebnf$2$subexpression$1",symbols:[{literal:","},"NFS"]},{name:"ARR$ebnf$2",symbols:["ARR$ebnf$2","ARR$ebnf$2$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"ARR",symbols:[{literal:"["},"ARR$ebnf$1","ARR$ebnf$2",{literal:"]"}],postprocess:function(e){var t=[];return null!=e[1]&&t.push(e[1][0]),null!=e[2]&&e[2].forEach((function(e){t.push(e[1][0])})),{type:"ARR",Elements:t}}},{name:"SENTENCE$subexpression$1",symbols:["NAS"]},{name:"SENTENCE$subexpression$1",symbols:["CONDSENTENCE"]},{name:"SENTENCE$subexpression$1",symbols:["DECLARATION"]},{name:"SENTENCE$subexpression$1",symbols:["RETURN"]},{name:"SENTENCE",symbols:["SENTENCE$subexpression$1"],postprocess:function(e){return{type:"SENTENCE",Sentence:e[0]?e[0][0]:null}}},{name:"RETURN$string$1",symbols:[{literal:"r"},{literal:"e"},{literal:"t"},{literal:"u"},{literal:"r"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"RETURN",symbols:["RETURN$string$1","_","SENTENCE"],postprocess:function(e){return{type:"RETURN",Sentence:e[2].Sentence}}},{name:"DECLARATION",symbols:["VARIABLE","_",{literal:"="},"_","NAS"],postprocess:function(e){return{type:"DECLARATION",Name:e[0].d,Assignment:e[4]}}},{name:"CONDSENTENCE$string$1",symbols:[{literal:"i"},{literal:"f"}],postprocess:function(e){return e.join("")}},{name:"CONDSENTENCE",symbols:["CONDSENTENCE$string$1","_","P","_","NAS"],postprocess:function(e){return{type:"CONDSENTENCE",Condition:e[2],Result:e[4]}}},{name:"CONDSENTENCE$string$2",symbols:[{literal:"i"},{literal:"f"}],postprocess:function(e){return e.join("")}},{name:"CONDSENTENCE",symbols:["CONDSENTENCE$string$2","_","P","_","BLOCK"],postprocess:function(e){return{type:"CONDSENTENCE",Condition:e[2],Result:e[4]}}},{name:"COND",symbols:["CONDOP"],postprocess:function(e){return e[0]}},{name:"COND$string$1",symbols:[{literal:"a"},{literal:"n"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"COND",symbols:["CONDOP","_","COND$string$1","_","COND"],postprocess:function(e){return{type:"CONDITION",Operation:"&&",Comparator:e[0],Next:e[4]}}},{name:"COND$string$2",symbols:[{literal:"o"},{literal:"r"}],postprocess:function(e){return e.join("")}},{name:"COND",symbols:["CONDOP","_","COND$string$2","_","COND"],postprocess:function(e){return{type:"CONDITION",Operation:"||",Comparator:e[0],Next:e[4]}}},{name:"CONDOP",symbols:["NAS"],postprocess:function(e){return e[0]}},{name:"CONDOP$string$1",symbols:[{literal:"="},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$1","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"==",Left:e[0],Right:e[4]}}},{name:"CONDOP$string$2",symbols:[{literal:"!"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$2","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"!=",Left:e[0],Right:e[4]}}},{name:"CONDOP",symbols:["NAS","_",{literal:">"},"_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:">",Left:e[0],Right:e[4]}}},{name:"CONDOP$string$3",symbols:[{literal:">"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$3","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:">=",Left:e[0],Right:e[4]}}},{name:"CONDOP",symbols:["NAS","_",{literal:"<"},"_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"<",Left:e[0],Right:e[4]}}},{name:"CONDOP$string$4",symbols:[{literal:"<"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$4","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"<=",Left:e[0],Right:e[4]}}},{name:"CONDOP$string$5",symbols:[{literal:"c"},{literal:"o"},{literal:"n"},{literal:"t"},{literal:"a"},{literal:"i"},{literal:"n"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$5","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"contains",Left:e[0],Right:e[4]}}},{name:"CONDOP$string$6",symbols:[{literal:"n"},{literal:"o"},{literal:"t"},{literal:" "},{literal:"c"},{literal:"o"},{literal:"n"},{literal:"t"},{literal:"a"},{literal:"i"},{literal:"n"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"CONDOP",symbols:["NAS","_","CONDOP$string$6","_","NAS"],postprocess:function(e){return{type:"COMPARATOR",operator:"not contains",Left:e[0],Right:e[4]}}},{name:"NAS",symbols:["AS"],postprocess:t},{name:"NAS$string$1",symbols:[{literal:"n"},{literal:"o"},{literal:"t"}],postprocess:function(e){return e.join("")}},{name:"NAS",symbols:["NAS$string$1","_","AS"],postprocess:function(e){return{type:"NEGATION",Child:e[2]}}},{name:"AS",symbols:["AS","_",{literal:"+"},"_","MD"],postprocess:function(e){return{type:"ADD",Left:e[0],Right:e[4]}}},{name:"AS",symbols:["AS","_",{literal:"-"},"_","MD"],postprocess:function(e){return{type:"SUB",Left:e[0],Right:e[4]}}},{name:"AS",symbols:["MD"],postprocess:function(e){return e[0]}},{name:"P$ebnf$1$subexpression$1$ebnf$1$subexpression$1$subexpression$1",symbols:["NAS"]},{name:"P$ebnf$1$subexpression$1$ebnf$1$subexpression$1",symbols:[{literal:","},"_","P$ebnf$1$subexpression$1$ebnf$1$subexpression$1$subexpression$1","_"]},{name:"P$ebnf$1$subexpression$1$ebnf$1",symbols:["P$ebnf$1$subexpression$1$ebnf$1$subexpression$1"]},{name:"P$ebnf$1$subexpression$1$ebnf$1$subexpression$2$subexpression$1",symbols:["NAS"]},{name:"P$ebnf$1$subexpression$1$ebnf$1$subexpression$2",symbols:[{literal:","},"_","P$ebnf$1$subexpression$1$ebnf$1$subexpression$2$subexpression$1","_"]},{name:"P$ebnf$1$subexpression$1$ebnf$1",symbols:["P$ebnf$1$subexpression$1$ebnf$1","P$ebnf$1$subexpression$1$ebnf$1$subexpression$2"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"P$ebnf$1$subexpression$1",symbols:["P$ebnf$1$subexpression$1$ebnf$1"]},{name:"P$ebnf$1",symbols:["P$ebnf$1$subexpression$1"],postprocess:t},{name:"P$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"P",symbols:[{literal:"("},"_","COND","_","P$ebnf$1",{literal:")"}],postprocess:function(e){var t=[];return null!=e[2]&&t.push(e[2]),null!=e[4]&&e[4][0].forEach((function(e){t.push(e[2][0])})),{type:"P",Args:t}}},{name:"P",symbols:[{literal:"("},"_",{literal:")"}]},{name:"P",symbols:["NFS"],postprocess:function(e){return Array.isArray(e[0])?e[0][0]:e[0]}},{name:"E",symbols:["P","_",{literal:"^"},"_","E"],postprocess:function(e){return{type:"EXP",Exp:e[4],Number:e[0],v:Math.pow(e[0].v,e[4].v)}}},{name:"E",symbols:["P"],postprocess:function(e){return e[0]}},{name:"MD",symbols:["MD","_",{literal:"*"},"_","E"],postprocess:function(e){return{type:"MUL",Left:e[0],Right:e[4]}}},{name:"MD",symbols:["MD","_",{literal:"/"},"_","E"],postprocess:function(e){return{type:"DIV",Left:e[0],Right:e[4]}}},{name:"MD",symbols:["E"],postprocess:function(e){return e[0]}},{name:"NFS",symbols:["N"]},{name:"NFS",symbols:["FLD"]},{name:"NFS",symbols:["STR"]},{name:"NFS",symbols:["BOL"]},{name:"NFS",symbols:["VARIABLE"]},{name:"NFS",symbols:["FUNC"],postprocess:function(e){return e[0]}},{name:"NFS",symbols:["FXD"]},{name:"NFS",symbols:["ARRI"]},{name:"NFS",symbols:["ARR"]},{name:"NFS",symbols:["MTD"]},{name:"MTD$ebnf$1",symbols:[]},{name:"MTD$ebnf$1",symbols:["MTD$ebnf$1",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"MTD",symbols:["NFS",{literal:"."},/[a-zA-Z_]/,"MTD$ebnf$1"],postprocess:function(e){return{type:"METHOD",Object:e[0][0],Name:e[2]+e[3].join(""),Args:null}}},{name:"MTD$ebnf$2",symbols:[]},{name:"MTD$ebnf$2",symbols:["MTD$ebnf$2",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"MTD",symbols:["NFS",{literal:"."},/[a-zA-Z_]/,"MTD$ebnf$2",{literal:"("},"_",{literal:")"}],postprocess:function(e){return{type:"METHOD",Object:e[0][0],Name:e[2]+e[3].join(""),Args:null}}},{name:"MTD$ebnf$3",symbols:[]},{name:"MTD$ebnf$3",symbols:["MTD$ebnf$3",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$1$subexpression$1",symbols:["AS"]},{name:"MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$1",symbols:[{literal:","},"_","MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$1$subexpression$1","_"]},{name:"MTD$ebnf$4$subexpression$1$ebnf$1",symbols:["MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$1"]},{name:"MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$2$subexpression$1",symbols:["AS"]},{name:"MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$2",symbols:[{literal:","},"_","MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$2$subexpression$1","_"]},{name:"MTD$ebnf$4$subexpression$1$ebnf$1",symbols:["MTD$ebnf$4$subexpression$1$ebnf$1","MTD$ebnf$4$subexpression$1$ebnf$1$subexpression$2"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"MTD$ebnf$4$subexpression$1",symbols:["MTD$ebnf$4$subexpression$1$ebnf$1"]},{name:"MTD$ebnf$4",symbols:["MTD$ebnf$4$subexpression$1"],postprocess:t},{name:"MTD$ebnf$4",symbols:[],postprocess:function(e){return null}},{name:"MTD",symbols:["NFS",{literal:"."},/[a-zA-Z_]/,"MTD$ebnf$3",{literal:"("},"AS","MTD$ebnf$4",{literal:")"}],postprocess:function(e){var t=[e[5]];return null!=e[6]&&e[6][0].forEach((function(e){t.push(e[2][0])})),{type:"METHOD",Object:e[0][0],Name:e[2]+e[3].join(""),Args:t}}},{name:"ARRI$ebnf$1",symbols:[/[0-9]/]},{name:"ARRI$ebnf$1",symbols:["ARRI$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"ARRI",symbols:["NFS","_",{literal:"["},"ARRI$ebnf$1","_",{literal:"]"}],postprocess:function(e){return{type:"ARRITEM",Array:e[0][0],Index:e[3].join("")}}},{name:"BOL$string$1",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"BOL",symbols:["BOL$string$1"],postprocess:function(e){return{type:"BOOLEAN",Value:!0}}},{name:"BOL$string$2",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"BOL",symbols:["BOL$string$2"],postprocess:function(e){return{type:"BOOLEAN",Value:!1}}},{name:"FXD$string$1",symbols:[{literal:"$"},{literal:"F"},{literal:"i"},{literal:"x"},{literal:"e"},{literal:"d"},{literal:" "}],postprocess:function(e){return e.join("")}},{name:"FXD",symbols:["FXD$string$1","STR",{literal:"$"}],postprocess:function(e){return{type:"FIXED",d:e[1]}}},{name:"FLD",symbols:["FIELD"],postprocess:function(e){return{type:"FIELD",Id:e[0].d}}},{name:"FUNC$string$1",symbols:[{literal:"R"},{literal:"N"},{literal:"F"},{literal:"_"}],postprocess:function(e){return e.join("")}},{name:"FUNC$ebnf$1",symbols:[/[a-zA-Z0-9_]/]},{name:"FUNC$ebnf$1",symbols:["FUNC$ebnf$1",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"FUNC",symbols:["FUNC$string$1","FUNC$ebnf$1",{literal:"("},"_",{literal:")"}],postprocess:function(e){return{type:"FUNC",Method:e[1].join(""),Args:[]}}},{name:"FUNC$string$2",symbols:[{literal:"R"},{literal:"N"},{literal:"F"},{literal:"_"}],postprocess:function(e){return e.join("")}},{name:"FUNC$ebnf$2",symbols:[/[a-zA-Z0-9_]/]},{name:"FUNC$ebnf$2",symbols:["FUNC$ebnf$2",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$1$subexpression$1",symbols:["NAS"]},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$1",symbols:[{literal:","},"_","FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$1$subexpression$1","_"]},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1",symbols:["FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$1"]},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$2$subexpression$1",symbols:["NAS"]},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$2",symbols:[{literal:","},"_","FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$2$subexpression$1","_"]},{name:"FUNC$ebnf$3$subexpression$1$ebnf$1",symbols:["FUNC$ebnf$3$subexpression$1$ebnf$1","FUNC$ebnf$3$subexpression$1$ebnf$1$subexpression$2"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"FUNC$ebnf$3$subexpression$1",symbols:["FUNC$ebnf$3$subexpression$1$ebnf$1"]},{name:"FUNC$ebnf$3",symbols:["FUNC$ebnf$3$subexpression$1"],postprocess:t},{name:"FUNC$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"FUNC",symbols:["FUNC$string$2","FUNC$ebnf$2",{literal:"("},"NAS","_","FUNC$ebnf$3",{literal:")"}],postprocess:function(e){var t=[e[3]];return null!=e[5]&&e[5][0].forEach((function(e){t.push(e[2][0])})),{type:"FUNC",Method:e[1].join(""),Args:t}}},{name:"FIELD$string$1",symbols:[{literal:"$"},{literal:"F"},{literal:"i"},{literal:"e"},{literal:"l"},{literal:"d"},{literal:" "}],postprocess:function(e){return e.join("")}},{name:"FIELD",symbols:["FIELD$string$1","number",{literal:"$"}],postprocess:function(e){return e[1]}},{name:"N",symbols:["number"],postprocess:t},{name:"N$string$1",symbols:[{literal:"s"},{literal:"i"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$1","_","P"],postprocess:function(e){return{type:"MATH",op:"SIN",d:e[2]}}},{name:"N$string$2",symbols:[{literal:"c"},{literal:"o"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$2","_","P"],postprocess:function(e){return{type:"MATH",op:"COS",d:e[2]}}},{name:"N$string$3",symbols:[{literal:"t"},{literal:"a"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$3","_","P"],postprocess:function(e){return{type:"MATH",op:"TAN",d:e[2]}}},{name:"N$string$4",symbols:[{literal:"a"},{literal:"s"},{literal:"i"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$4","_","P"],postprocess:function(e){return{type:"MATH",op:"ASIN",d:e[2]}}},{name:"N$string$5",symbols:[{literal:"a"},{literal:"c"},{literal:"o"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$5","_","P"],postprocess:function(e){return{type:"MATH",op:"ACOS",d:e[2]}}},{name:"N$string$6",symbols:[{literal:"a"},{literal:"t"},{literal:"a"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$6","_","P"],postprocess:function(e){return{type:"MATH",op:"ATAN",d:e[2]}}},{name:"N$string$7",symbols:[{literal:"p"},{literal:"i"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$7"],postprocess:function(e){return{type:"MATH",op:"PI",d:e[2]}}},{name:"N",symbols:[{literal:"e"}],postprocess:function(e){return{type:"MATH",op:"E",d:e[2]}}},{name:"N$string$8",symbols:[{literal:"s"},{literal:"q"},{literal:"r"},{literal:"t"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$8","_","P"],postprocess:function(e){return{type:"MATH",op:"SQRT",d:e[2]}}},{name:"N$string$9",symbols:[{literal:"l"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"N",symbols:["N$string$9","_","P"],postprocess:function(e){return{type:"MATH",op:"LN",d:e[2]}}},{name:"number$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"number$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"number$ebnf$2",symbols:[/[0-9]/]},{name:"number$ebnf$2",symbols:["number$ebnf$2",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"number$ebnf$3$subexpression$1$ebnf$1",symbols:[/[0-9]/]},{name:"number$ebnf$3$subexpression$1$ebnf$1",symbols:["number$ebnf$3$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"number$ebnf$3$subexpression$1",symbols:[{literal:"."},"number$ebnf$3$subexpression$1$ebnf$1"]},{name:"number$ebnf$3",symbols:["number$ebnf$3$subexpression$1"],postprocess:t},{name:"number$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"number",symbols:["number$ebnf$1","number$ebnf$2","number$ebnf$3"],postprocess:function(e){return{type:"NUMBER",d:(e[0]||"")+e[1].join("")+(e[2]?"."+e[2][1].join(""):"")}}},{name:"VARIABLE$ebnf$1",symbols:[]},{name:"VARIABLE$ebnf$1",symbols:["VARIABLE$ebnf$1",/[a-zA-Z0-9_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"VARIABLE",symbols:[/[a-zA-Z_]/,"VARIABLE$ebnf$1"],postprocess:function(e,t,n){var r=e[0]+(e[1]?e[1].join(""):"");return"true"==r||"false"==r||"if"==r||"and"==r||"or"==r||"return"==r?n:{type:"VARIABLE",d:r}}},{name:"STR$ebnf$1",symbols:[]},{name:"STR$ebnf$1",symbols:["STR$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"STR",symbols:[{literal:'"'},"STR$ebnf$1",{literal:'"'}],postprocess:function(e){return{type:"STRING",Text:e[1].join("")}}},{name:"dstrchar",symbols:[/[^\\"\n]/],postprocess:t},{name:"dstrchar",symbols:[{literal:"\\"},"strescape"],postprocess:function(e){return JSON.parse('"'+e.join("")+'"')}},{name:"strescape",symbols:[/["\\/bfnrt]/],postprocess:t},{name:"strescape",symbols:[{literal:"u"},/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/],postprocess:function(e){return e.join("")}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[\s]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"main"};void 0!==e.exports?e.exports=n:window.grammar=n}()},74:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/FBRow.Options")},773:function(e,t,n){"use strict";n.r(t),n.d(t,"DesignerTestGenerator",(function(){return f}));var r=n(95),s=n(272),o=n(98),i=n(128),l=n(273),a=n(0),u=n(94);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n(15),f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Model=void 0,r.CurrencyManager.Initialize({Format:"%1$s%2$s",Decimals:2,ThousandSeparator:",",DecimalSeparator:".",Symbol:"&#36;"}),this.Model=new s.FormBuilderDesignerModel((new o.FormBuilderOptions).Merge(),{},null,new i.ProductData).Initialize();var t=document.createElement("div");t.className="rednao-advanced-products-designer",document.body.appendChild(t),c.render(a.createElement("div",{className:"rednaoproductdesigner"},a.createElement(l.ProductFieldsDesigner,{Model:this.Model})),t)}var t,n,f;return t=e,(n=[{key:"AddField",value:function(e){var t=u.FieldFactory.GetFieldOptions(e);this.Model.AddRow(t,0,this.Model)}}])&&p(t.prototype,n),f&&p(t,f),e}()},774:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"RunnableFieldContainerWrapper",(function(){return u}));var u=function(e){function t(){var e,n;s(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=i(this,(e=l(t)).call.apply(e,[this].concat(o)))).Wrappers=[],n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),n=t,(r=[{key:"AddField",value:function(e){return this.generator.AddField(e,this)}},{key:"Rows",get:function(){return this.Options.Rows}}])&&o(n.prototype,r),u&&o(n,u),t}(n(574).RunnableFieldWrapper)},775:function(e,t,n){"use strict";n.r(t),n.d(t,"DummyValueRetriever",(function(){return u}));var r=n(1047);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=i(this,l(t).call(this,null))).Text="",e.Price=0,e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),n=t,(r=[{key:"SetPrice",value:function(e){return this.Price=e,this}},{key:"SetText",value:function(e){return this.Text=e,this}},{key:"ExecuteCalculation",value:function(e,t,n){return{Quantity:0,RegularPrice:void 0,SalePrice:void 0}}},{key:"Compare",value:function(e,t){}},{key:"GetText",value:function(){return this.Text}},{key:"GetPrice",value:function(){return this.Price}},{key:"GetValue",value:function(){return this.Price}}])&&o(n.prototype,r),s&&o(n,s),t}(r.ValueRetrieverBase)},865:function(e,t,n){"use strict";n.r(t);var r={},s=null;try{s=n(1484),r={};var o=!0,i=!1,l=void 0;try{for(var a,u=s.keys()[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var p=a.value;r[p.substring(0,p.lastIndexOf("."))]=p}}catch(e){i=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}}catch(e){}t.default=function(e){if(e="./"+e.substring(5),null==r[e])throw"Library not found "+e;return s(r[e])}},88:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.Model")},94:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/FieldFactory")},95:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Utilities/Managers/CurrencyManager")},98:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/FormBuilder.options")}});