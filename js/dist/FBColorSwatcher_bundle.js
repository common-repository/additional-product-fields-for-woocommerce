var RedNaoFBColorSwatcher=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1502)}({0:function(e,t){e.exports=React},100:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase.Model")},117:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase.Options")},1502:function(e,t,n){"use strict";n.r(t),n.d(t,"FBColorSwatcher",(function(){return K}));var r,o,i,l,u=n(0),a=n(6),c=n(29),s=n(3),f=n(27),p=n(28),d=n(2),y=n(66),b=n(9),m=n(117);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E,j,I,R,T,C,_=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=w(this,(e=M(t)).call.apply(e,[this].concat(o)))).Label=void 0,n.Color=void 0,n.Type=void 0,n}return x(t,e),S(t,[{key:"LoadDefaultValues",value:function(){P(M(t.prototype),"LoadDefaultValues",this).call(this),this.Label="",this.Color="",this.Type="color"}}]),t}(y.OptionItem),N=(r=Object(b.StoreDataType)(_),l=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return O(n=w(this,(e=M(t)).call.apply(e,[this].concat(o))),"Options",i,F(n)),n.AllowMultipleSelection=void 0,n.MaximumNumberOfItems=void 0,n}return x(t,e),S(t,[{key:"LoadDefaultValues",value:function(){P(M(t.prototype),"LoadDefaultValues",this).call(this),this.Type=s.FieldTypeEnum.ColorSwatcher,this.Label="Item Swatcher",this.PriceType=a.PriceTypeEnum.none,this.AllowMultipleSelection=!1,this.MaximumNumberOfItems=0,this.Options=[(new _).Merge({Id:1,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Black",Color:"#000000"}),(new _).Merge({Id:2,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Red",Color:"#FF0000"}),(new _).Merge({Id:3,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"White",Color:"#FFFFFF"})]}}]),t}(m.FBMultipleOptionsBaseOptions),E=(o=l).prototype,j="Options",I=[r],R={configurable:!0,enumerable:!0,writable:!0,initializer:null},C={},Object.keys(R).forEach((function(e){C[e]=R[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=I.slice().reverse().reduce((function(e,t){return t(E,j,e)||e}),C),T&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(T):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(E,j,C),C=null),i=C,o);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=D(this,z(t).call(this,e,n))).MaximumNumberOfItems=void 0,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"InitializeStartingValues",value:function(){V(z(t.prototype),"InitializeStartingValues",this).call(this),this.MaximumNumberOfItems=this.Options.MaximumNumberOfItems}},{key:"SetMaximumNumberOfItems",value:function(e){for(;e>=0&&e<this.SelectedValues.length&&this.SelectedValues.length>0;)this.SelectedValues.pop();this.MaximumNumberOfItems=e,this.Refresh()}},{key:"IsOptionDisabled",value:function(e){var n=V(z(t.prototype),"IsOptionDisabled",this).call(this,e);return n||this.MaximumNumberOfItems>0&&this.SelectedValues.length>=this.MaximumNumberOfItems&&this.SelectedValues.indexOf(e)<0}},{key:"GetDynamicFieldNames",value:function(){return["FBColorSwatcher"]}},{key:"AllowMultiple",get:function(){return null!=this.Options&&this.Options.AllowMultipleSelection}}])&&G(n.prototype,r),o&&G(n,o),t}(n(100).FBMultipleOptionsBaseModel);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,H(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,e),n=t,(r=[{key:"componentWillReceiveProps",value:function(e,t){if(this.Model.Parent.IsDesign){var n=this.props.Model.Options.Options.filter((function(e){return e.Selected}));this.Model.SelectedValues=n.length>0?n.map((function(e){return e.Id})):[],this.Model.SetQuantity(this.Model.Options.QuantityDefaultValue),this.Model.Refresh()}}},{key:"SubRender",value:function(){return this.Model.Options.ShowQuantitySelector&&this.Model.Options.PriceType!=a.PriceTypeEnum.quantity?"bottom"==this.Model.Options.QuantityPosition||"right"==this.Model.Options.QuantityPosition?u.createElement(u.Fragment,null,this.GetInput(this.Model.Options.QuantityPosition),this.GetQuantityInput(),this.GetPriceOrRequiredBox()):u.createElement(u.Fragment,null,this.GetQuantityInput(),this.GetInput(this.Model.Options.QuantityPosition),this.GetPriceOrRequiredBox()):u.createElement(u.Fragment,null,this.GetInput(""),this.GetPriceOrRequiredBox())}},{key:"GetInput",value:function(e){var t=this;return u.createElement("div",{className:"rnTextFieldInput "+e},this.GetLabel(),u.createElement("div",{className:"rnColorSwatcherContainer",style:{display:"flex",flexWrap:"wrap"}},this.Model.Options.Options.map((function(e){return u.createElement("div",{key:e.Id,className:(t.Model.IsOptionDisabled(e.Id)?"rnDisabled":"")+" rnColorSwatcherItem "+(t.Model.SelectedValues.some((function(t){return t==e.Id}))?"rnSelected":""),onClick:function(n){return t.ToggleSelected(e)}},u.createElement("div",{className:"RNPreset",style:{minWidth:50,height:50,borderRadius:50}},t.GetContent(e)),""!=e.Label.trim()&&u.createElement("label",null,t.GetText(e,"Label")))}))))}},{key:"ToggleSelected",value:function(e){this.Model.ToggleSelection(e.Id)}},{key:"GetContent",value:function(e){switch(e.Type){case"color":return u.createElement("div",{style:{backgroundColor:e.Color,width:"100%",height:"100%",borderRadius:50}});case"image":return u.createElement("div",{style:{backgroundImage:'url("'.concat(e.Color,'")'),width:"100%",height:"100%",borderRadius:50,backgroundSize:"contain"}});case"text":return u.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"}},e.Color)}}}])&&W(n.prototype,r),o&&W(n,o),t}(n(188).FBMultipleOptionsBase);K.defaultProps={},d.EventManager.Subscribe(c.GetModel,(function(e){if(e.Options.Type==s.FieldTypeEnum.ColorSwatcher)return new Q(e.Options,e.parent).Initialize(e.PreviousData)})),d.EventManager.Subscribe(f.GetFieldOptions,(function(e){if(e.Type==s.FieldTypeEnum.ColorSwatcher)return new N})),d.EventManager.Subscribe(p.GetField,(function(e){if(e.Model.Options.Type==s.FieldTypeEnum.ColorSwatcher)return u.createElement(K,{Model:e.Model})}))},188:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBMultipleOptionsBase")},2:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/EventManager")},27:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetFieldOptions")},28:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetField")},29:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetModel")},3:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},6:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Options")},66:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Options/OptionItem")},9:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Store/StoreBase")}});